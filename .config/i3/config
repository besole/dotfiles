#########################
# I3 Configuration File #
#########################

# Variables
set $mod Mod4
set $alt Mod1

set $barBackground        #EEEEEE
set $barFontColor         #555555
set $barInactiveFontColor #999999
set $accent               #44EEDD
set $font "pango:Monospace 14"

set $term xfce4-terminal
set $menu dmenu_run -fn "$font"

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Look and feel
font $font
floating_modifier $mod
for_window [class="^.*"] border pixel 1

# Media Buttons
bindsym XF86AudioRaiseVolume  exec pactl set-sink-volume @DEFAULT_SINK@ '+1%'  && pkill -RTMIN+1 i3blocks
bindsym XF86AudioLowerVolume  exec pactl set-sink-volume @DEFAULT_SINK@ '-1%'  && pkill -RTMIN+1 i3blocks
bindsym XF86AudioMute         exec pactl set-sink-mute   @DEFAULT_SINK@ toggle && pkill -RTMIN+1 i3blocks
bindsym XF86AudioMicMute      exec pactl set-source-mute @DEFAULT_SOURCE@ toggle && pkill -RTMIN+1 i3blocks

bindsym XF86AudioStop         exec playerctl pause
bindsym XF86AudioPlay         exec playerctl play
bindsym XF86AudioNext         exec playerctl next
bindsym XF86AudioPrev         exec playerctl previous

bindsym XF86MonBrightnessDown exec sudo brightnessctl set 5%- && pkill -RTMIN+1 i3blocks
bindsym XF86MonBrightnessUp   exec sudo brightnessctl set +5% && pkill -RTMIN+1 i3blocks

# Workspaces
bindsym $mod+$alt+Right workspace next_on_output
bindsym $mod+$alt+Left  workspace prev_on_output

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# I3 Controll
bindsym $mod+h split h
bindsym $mod+v split v
bindsym $mod+f fullscreen toggle
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+Shift+space floating toggle

bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec i3-msg exit

# Window Controll
bindsym $mod+Return exec $term
bindsym $mod+d exec $menu
bindsym $mod+Shift+q kill

bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

mode "resize" {
  bindsym Left resize shrink width 10px
  bindsym Down resize grow height 10px
  bindsym Up resize shrink height 10px
  bindsym Right resize grow width 10px

  bindsym Return mode "default"
  bindsym Escape mode "default"
  bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

# Statusbar
bar {
  status_command i3blocks
  
  position top
  tray_output primary
  separator_symbol "|"

  colors {
    background $barBackground
    statusline $barFontColor
    separator $accent
    
    inactive_workspace $barBackground $barBackground $barInactiveFontColor
    focused_workspace  $barBackground $barBackground $barFontColor
    active_workspace   $barBackground $barBackground $barFontColor
  }
}

# Specific Window Definitions

# fix f*cking microsoft teams notifications
no_focus   [title="Microsoft Teams Notification"]
for_window [title="Microsoft Teams Notification"] floating enable
